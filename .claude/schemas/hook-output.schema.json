{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://skillforge.dev/schemas/hook-output.schema.json",
  "title": "Claude Code 2.1.2 Hook Output Schema",
  "description": "Validates hook output format for CC 2.1.2 compliance",
  "type": "object",
  "required": ["continue"],
  "properties": {
    "continue": {
      "type": "boolean",
      "description": "Whether to continue with the tool execution"
    },
    "systemMessage": {
      "type": "string",
      "description": "Optional message to display to the user"
    },
    "hookSpecificOutput": {
      "type": "object",
      "description": "Hook-specific output data",
      "properties": {
        "updatedInput": {
          "type": "object",
          "description": "Modified input for input-mod hooks"
        },
        "permissionDecision": {
          "type": "string",
          "enum": ["allow", "deny"],
          "description": "Decision for permission hooks"
        }
      }
    }
  },
  "additionalProperties": true,
  "examples": [
    {
      "continue": true,
      "systemMessage": "Command validated successfully"
    },
    {
      "continue": false,
      "systemMessage": "Dangerous command blocked"
    },
    {
      "continue": true,
      "hookSpecificOutput": {
        "permissionDecision": "allow"
      }
    }
  ]
}