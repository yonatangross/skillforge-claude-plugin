{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://orchestkit.dev/schemas/marketplace.schema.json",
  "title": "Claude Code Marketplace Schema",
  "description": "Schema for validating marketplace.json plugin registry entries (compatible with Claude Code)",
  "type": "object",
  "required": ["name", "version", "plugins"],
  "properties": {
    "$schema": {
      "type": "string",
      "description": "JSON Schema reference"
    },
    "name": {
      "type": "string",
      "description": "Marketplace name",
      "pattern": "^[a-z0-9-]+$"
    },
    "version": {
      "type": "string",
      "description": "Semantic version",
      "pattern": "^\\d+\\.\\d+\\.\\d+$"
    },
    "description": {
      "type": "string",
      "description": "Brief description of the marketplace"
    },
    "owner": {
      "type": "object",
      "description": "Marketplace owner information",
      "properties": {
        "name": {
          "type": "string",
          "description": "Owner name"
        },
        "email": {
          "type": "string",
          "format": "email",
          "description": "Owner email"
        }
      },
      "required": ["name"]
    },
    "plugins": {
      "type": "array",
      "description": "Available plugins in this marketplace",
      "items": {
        "type": "object",
        "required": ["name", "source"],
        "properties": {
          "name": {
            "type": "string",
            "description": "Plugin name for installation",
            "pattern": "^[a-z0-9-]+$"
          },
          "description": {
            "type": "string",
            "description": "Plugin description"
          },
          "version": {
            "type": "string",
            "description": "Plugin version",
            "pattern": "^\\d+\\.\\d+\\.\\d+$"
          },
          "author": {
            "type": "object",
            "description": "Plugin author information",
            "properties": {
              "name": {
                "type": "string",
                "description": "Author name"
              },
              "email": {
                "type": "string",
                "format": "email",
                "description": "Author email"
              }
            }
          },
          "source": {
            "type": "string",
            "description": "Relative path to plugin directory (e.g., './' or './plugins/my-plugin')"
          },
          "category": {
            "type": "string",
            "description": "Plugin category",
            "enum": ["development", "productivity", "learning", "security", "testing", "devops"]
          }
        }
      }
    }
  }
}