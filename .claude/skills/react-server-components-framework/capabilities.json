{
  "$schema": "../../schemas/skill-capabilities.schema.json",
  "name": "react-server-components-framework",
  "version": "1.3.0",
  "description": "Next.js 15 App Router, RSC patterns, Server Actions, React 19 modernization, streaming SSR, data fetching, and TanStack Router patterns for client-rendered SPAs",

  "capabilities": {
    "react-19-patterns": {
      "keywords": ["react 19", "React.FC", "forwardRef", "useActionState", "useFormStatus", "useOptimistic", "function declaration"],
      "solves": [
        "How do I replace React.FC in React 19?",
        "forwardRef replacement pattern",
        "useActionState vs useFormState",
        "React 19 component declaration best practices",
        "Modernize React components for 2025"
      ],
      "reference_file": "references/react-19-patterns.md",
      "token_cost": 280
    },
    "use-hook-suspense": {
      "keywords": ["use()", "use hook", "suspense", "promise", "data fetching", "promise cache", "cachePromise"],
      "solves": [
        "How do I use the use() hook in React 19?",
        "Suspense-native data fetching pattern",
        "Promise caching to prevent infinite loops",
        "When to use use() vs TanStack Query",
        "use() hook infinite loop fix"
      ],
      "reference_file": "references/react-19-patterns.md#use-hook",
      "token_cost": 180
    },
    "optimistic-updates-async": {
      "keywords": ["useOptimistic", "useTransition", "optimistic update", "instant ui", "auto rollback", "chat", "messages"],
      "solves": [
        "How to show instant UI updates before API responds?",
        "useOptimistic with useTransition pattern",
        "Optimistic updates for chat/messaging",
        "Auto-rollback on API failure",
        "Temp ID pattern for optimistic items"
      ],
      "reference_file": "references/react-19-patterns.md#useOptimistic-async",
      "token_cost": 200
    },
    "rsc-patterns": {
      "keywords": ["rsc", "server component", "client component", "use client", "use server"],
      "solves": [
        "When to use server vs client components?",
        "RSC boundaries and patterns",
        "Server component best practices"
      ],
      "reference_file": "SKILL.md#server-components",
      "token_cost": 180
    },
    "server-actions": {
      "keywords": ["server action", "form action", "use server", "mutation"],
      "solves": [
        "How do I create a server action?",
        "Form handling with server actions",
        "Mutations in Next.js"
      ],
      "reference_file": "SKILL.md#server-actions",
      "token_cost": 160
    },
    "data-fetching": {
      "keywords": ["fetch", "data fetching", "async component", "loading", "suspense"],
      "solves": [
        "How do I fetch data in RSC?",
        "Async server components",
        "Suspense and loading states"
      ],
      "reference_file": "SKILL.md#data-fetching",
      "token_cost": 150
    },
    "streaming-ssr": {
      "keywords": ["streaming", "ssr", "suspense boundary", "loading ui"],
      "solves": [
        "How do I stream server content?",
        "Progressive loading patterns",
        "Streaming SSR setup"
      ],
      "reference_file": "SKILL.md#streaming-ssr",
      "token_cost": 140
    },
    "caching": {
      "keywords": ["cache", "revalidate", "static", "dynamic", "isr"],
      "solves": [
        "How do I cache in Next.js 15?",
        "Revalidation strategies",
        "Static vs dynamic rendering"
      ],
      "reference_file": "SKILL.md#caching-strategies",
      "token_cost": 160
    },
    "tanstack-router-patterns": {
      "keywords": ["tanstack router", "react router", "vite", "spa", "client rendering", "prefetch", "route loader", "zustand", "virtualization"],
      "solves": [
        "How do I use React 19 features without Next.js?",
        "TanStack Router prefetching setup",
        "useOptimistic in client-rendered apps",
        "useActionState without server actions",
        "Route-based data fetching with TanStack Query",
        "SSE event handling with Zustand",
        "List virtualization with @tanstack/react-virtual",
        "assertNever exhaustive type checking"
      ],
      "reference_file": "references/tanstack-router-patterns.md",
      "token_cost": 450
    }
  },

  "triggers": {
    "high_confidence": ["next.*js.*15", "server.*component", "app.*router", "server.*action", "react.*19", "React\\.FC", "forwardRef", "use\\(\\)", "cachePromise", "promise.*cache", "tanstack.*router", "@tanstack/react-router"],
    "medium_confidence": ["rsc", "use.*server", "useActionState", "useFormStatus", "useOptimistic", "useTransition", "suspense.*data", "optimistic.*update", "vite.*react", "prefetch.*intent", "assertNever"]
  },

  "integrates_with": ["type-safety-validation", "design-system-starter"],

  "progressive_loading": {
    "tier_1_discovery": {
      "file": "capabilities.json",
      "tokens": 100,
      "use_when": "Initial task analysis - determine if Next.js 15/RSC skill is relevant"
    },
    "tier_2_overview": {
      "file": "SKILL.md",
      "tokens": 500,
      "use_when": "Skill confirmed relevant - need RSC patterns and best practices"
    },
    "tier_3_specific": {
      "files": "references/*.md",
      "tokens": "140-180 each",
      "use_when": "Need specific implementation guidance (component patterns, data fetching, routing)"
    },
    "tier_4_generate": {
      "files": "templates/*.tsx",
      "tokens": "150-250 each",
      "use_when": "Ready to generate Server Components, Client Components, or Server Actions"
    }
  },

  "mcp_tools": {
    "documentation_lookup": {
      "tool": "context7",
      "library_ids": ["/vercel/next.js", "/facebook/react"],
      "use_when": "Need current Next.js 15 or React 19 specific patterns"
    }
  }
}
