// OrchestKit Hooks - notification bundle
// Generated: 2026-01-23T16:38:20.885Z

var H=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,o)=>(typeof require<"u"?require:e)[o]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});function L(t){return typeof t.command=="string"}function A(t){return typeof t.file_path=="string"&&typeof t.content=="string"}function F(t){return typeof t.file_path=="string"&&typeof t.old_string=="string"&&typeof t.new_string=="string"}function B(t){return typeof t.file_path=="string"&&t.content===void 0}import{appendFileSync as l,existsSync as f,statSync as h,renameSync as O,mkdirSync as T}from"node:fs";var b=process.env.CLAUDE_PLUGIN_ROOT||process.env.CLAUDE_PROJECT_DIR||".",g=process.env.CLAUDE_PROJECT_DIR||".";function m(){return process.env.CLAUDE_PLUGIN_ROOT?`${process.env.HOME}/.claude/logs/ork`:`${g}/.claude/logs`}function G(){return g}function W(){return b}function c(){return process.env.CLAUDE_SESSION_ID}function s(){return{continue:!0,suppressOutput:!0}}function Z(){return{continue:!0,suppressOutput:!0,hookSpecificOutput:{permissionDecision:"allow"}}}function J(t){return{continue:!1,stopReason:t,hookSpecificOutput:{permissionDecision:"deny",permissionDecisionReason:t}}}function q(t){return{continue:!0,suppressOutput:!0,hookSpecificOutput:{hookEventName:"PostToolUse",additionalContext:t}}}function z(t){return{continue:!0,suppressOutput:!0,hookSpecificOutput:{hookEventName:"UserPromptSubmit",additionalContext:t}}}function X(t,e){let o={continue:!0,hookSpecificOutput:{hookEventName:"PreToolUse",additionalContext:t,permissionDecision:"allow"}};return e?o.systemMessage=e:o.suppressOutput=!0,o}function K(t){return{continue:!0,systemMessage:t}}function Q(t){return{continue:!0,systemMessage:`\u26A0 ${t}`}}function V(t){return{continue:!1,stopReason:t,hookSpecificOutput:{hookEventName:"PreToolUse",permissionDecision:"deny",permissionDecisionReason:t}}}var E=200*1024,D=100*1024;function d(t,e){if(f(t))try{if(h(t).size>e){let n=`${t}.old.${Date.now()}`;O(t,n)}}catch{}}function k(t){f(t)||T(t,{recursive:!0})}function u(t,e){let o=m(),n=`${o}/hooks.log`;try{k(o),d(n,E);let i=new Date().toISOString().replace("T"," ").slice(0,19);l(n,`[${i}] [${t}] ${e}
`)}catch{}}function Y(t,e,o){let n=m(),i=`${n}/permission-feedback.log`;try{k(n),d(i,D);let p=new Date().toISOString(),r=o?.tool_name||process.env.HOOK_TOOL_NAME||"unknown",R=o?.session_id||c();l(i,`${p} | ${t} | ${e} | tool=${r} | session=${R}
`)}catch{}}function tt(){try{let t=[],o=Buffer.allocUnsafe(256),n,i=0,{readSync:p}=H("node:fs");for(;;)try{if(n=p(i,o,0,256,null),n===0)break;t.push(Buffer.from(o.subarray(0,n)))}catch{break}let r=Buffer.concat(t).toString("utf8").trim();return r?JSON.parse(r):{tool_name:"",session_id:c(),tool_input:{}}}catch{return{tool_name:"",session_id:c(),tool_input:{}}}}function ot(t,e){let o=e.replace(/^\./,"").split("."),n=t;for(let i of o){if(n==null)return;n=n[i]}return n}function nt(t){return t.replace(/\\\s*[\r\n]+/g," ").replace(/\n/g," ").replace(/\s+/g," ").trim()}function et(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}import{execSync as a}from"node:child_process";function P(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function v(t){try{let e=P(t);return a(`osascript -e 'display notification "${e}" with title "Claude Code" sound name "Ping"'`,{stdio:"ignore"}),!0}catch{return!1}}function $(t){try{return a(`notify-send -- "Claude Code" "${t}"`,{stdio:"ignore"}),!0}catch{return!1}}function y(t){try{return a(`command -v ${t}`,{stdio:"ignore"}),!0}catch{return!1}}function _(t){let e=t.tool_input||{},o=e.message||"",n=e.notification_type||"";return u("desktop",`Notification: [${n}] ${o.substring(0,100)}`),(n==="permission_prompt"||n==="idle_prompt")&&(y("osascript")?v(o):y("notify-send")&&$(o)),s()}import{execSync as S}from"node:child_process";var N={permission_prompt:"/System/Library/Sounds/Sosumi.aiff",idle_prompt:"/System/Library/Sounds/Ping.aiff",auth_success:"/System/Library/Sounds/Glass.aiff"};function U(){try{return S("command -v afplay",{stdio:"ignore"}),!0}catch{return!1}}function C(t){try{S(`afplay "${t}" &`,{stdio:"ignore"})}catch{}}function x(t){let o=(t.tool_input||{}).notification_type||"";if(u("sound",`Sound notification check: [${o}]`),U()){let n=N[o];n&&C(n)}return s()}var I={"notification/desktop":_,"notification/sound":x};function gt(t){return I[t]}function mt(){return Object.keys(I)}export{et as escapeRegex,ot as getField,gt as getHook,m as getLogDir,W as getPluginRoot,G as getProjectDir,c as getSessionId,I as hooks,L as isBashInput,F as isEditInput,B as isReadInput,A as isWriteInput,mt as listHooks,u as logHook,Y as logPermissionFeedback,nt as normalizeCommand,X as outputAllowWithContext,J as outputBlock,V as outputDeny,K as outputError,z as outputPromptContext,Z as outputSilentAllow,s as outputSilentSuccess,Q as outputWarning,q as outputWithContext,tt as readHookInput};
//# sourceMappingURL=notification.mjs.map
