// OrchestKit Hooks - notification bundle
// Generated: 2026-01-24T17:00:52.263Z

var f=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(n,o)=>(typeof require<"u"?require:n)[o]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});function A(t){return typeof t.command=="string"}function B(t){return typeof t.file_path=="string"&&typeof t.content=="string"}function F(t){return typeof t.file_path=="string"&&typeof t.old_string=="string"&&typeof t.new_string=="string"}function M(t){return typeof t.file_path=="string"&&t.content===void 0}import{appendFileSync as l,existsSync as g,statSync as R,renameSync as T,mkdirSync as O}from"node:fs";function d(){return process.env.CLAUDE_PLUGIN_ROOT?`${process.env.HOME}/.claude/logs/ork`:`${m()}/.claude/logs`}function m(){return process.env.CLAUDE_PROJECT_DIR||"."}function W(){return process.env.CLAUDE_PLUGIN_ROOT||process.env.CLAUDE_PROJECT_DIR||"."}function c(){return process.env.CLAUDE_SESSION_ID||`fallback-${process.pid}-${Date.now()}`}function K(t){if(process.env.ORCHESTKIT_BRANCH)return process.env.ORCHESTKIT_BRANCH;let{execSync:n}=f("node:child_process");try{let o=n("git branch --show-current",{cwd:t||m(),encoding:"utf8",timeout:5e3,stdio:["pipe","pipe","pipe"]}).trim();return process.env.ORCHESTKIT_BRANCH=o,o}catch{return"unknown"}}function b(){return process.env.ORCHESTKIT_LOG_LEVEL||"warn"}function E(t){let n=["debug","info","warn","error"];return n.indexOf(t)>=n.indexOf(b())}function u(){return{continue:!0,suppressOutput:!0}}function Z(){return{continue:!0,suppressOutput:!0,hookSpecificOutput:{permissionDecision:"allow"}}}function q(t){return{continue:!1,stopReason:t,hookSpecificOutput:{permissionDecision:"deny",permissionDecisionReason:t}}}function J(t){return{continue:!0,suppressOutput:!0,hookSpecificOutput:{hookEventName:"PostToolUse",additionalContext:t}}}function z(t){return{continue:!0,suppressOutput:!0,hookSpecificOutput:{hookEventName:"UserPromptSubmit",additionalContext:t}}}function X(t,n){let o={continue:!0,hookSpecificOutput:{hookEventName:"PreToolUse",additionalContext:t,permissionDecision:"allow"}};return n?o.systemMessage=n:o.suppressOutput=!0,o}function V(t){return{continue:!0,systemMessage:t}}function Q(t){return{continue:!0,systemMessage:`\u26A0 ${t}`}}function Y(t){return{continue:!1,stopReason:t,hookSpecificOutput:{hookEventName:"PreToolUse",permissionDecision:"deny",permissionDecisionReason:t}}}var v=200*1024,w=100*1024;function k(t,n){if(g(t))try{if(R(t).size>n){let e=`${t}.old.${Date.now()}`;T(t,e)}}catch{}}function y(t){g(t)||O(t,{recursive:!0})}function p(t,n,o="debug"){if(!E(o))return;let e=d(),r=`${e}/hooks.log`;try{y(e),k(r,v);let i=new Date().toISOString().replace("T"," ").slice(0,19);l(r,`[${i}] [${o.toUpperCase()}] [${t}] ${n}
`)}catch{}}function tt(t,n,o){let e=d(),r=`${e}/permission-feedback.log`;try{y(e),k(r,w);let i=new Date().toISOString(),s=o?.tool_name||process.env.HOOK_TOOL_NAME||"unknown",h=o?.session_id||c();l(r,`${i} | ${t} | ${n} | tool=${s} | session=${h}
`)}catch{}}function ot(){try{let t=[],o=Buffer.allocUnsafe(256),e,r=0,{readSync:i}=f("node:fs");for(;;)try{if(e=i(r,o,0,256,null),e===0)break;t.push(Buffer.from(o.subarray(0,e)))}catch{break}let s=Buffer.concat(t).toString("utf8").trim();return s?JSON.parse(s):{tool_name:"",session_id:c(),tool_input:{}}}catch{return{tool_name:"",session_id:c(),tool_input:{}}}}function nt(t,n){let o=n.replace(/^\./,"").split("."),e=t;for(let r of o){if(e==null)return;e=e[r]}return e}function et(t){return t.replace(/\\\s*[\r\n]+/g," ").replace(/\n/g," ").replace(/\s+/g," ").trim()}function rt(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}import{execSync as a}from"node:child_process";function C(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function D(t){try{let n=C(t);return a(`osascript -e 'display notification "${n}" with title "Claude Code" sound name "Ping"'`,{stdio:"ignore"}),!0}catch{return!1}}function $(t){try{return a(`notify-send -- "Claude Code" "${t}"`,{stdio:"ignore"}),!0}catch{return!1}}function S(t){try{return a(`command -v ${t}`,{stdio:"ignore"}),!0}catch{return!1}}function _(t){let n=t.tool_input||{},o=n.message||"",e=n.notification_type||"";return p("desktop",`Notification: [${e}] ${o.substring(0,100)}`),(e==="permission_prompt"||e==="idle_prompt")&&(S("osascript")?D(o):S("notify-send")&&$(o)),u()}import{execSync as x}from"node:child_process";var N={permission_prompt:"/System/Library/Sounds/Sosumi.aiff",idle_prompt:"/System/Library/Sounds/Ping.aiff",auth_success:"/System/Library/Sounds/Glass.aiff"};function P(){try{return x("command -v afplay",{stdio:"ignore"}),!0}catch{return!1}}function U(t){try{x(`afplay "${t}" &`,{stdio:"ignore"})}catch{}}function I(t){let o=(t.tool_input||{}).notification_type||"";if(p("sound",`Sound notification check: [${o}]`),P()){let e=N[o];e&&U(e)}return u()}var H={"notification/desktop":_,"notification/sound":I};function dt(t){return H[t]}function mt(){return Object.keys(H)}export{rt as escapeRegex,K as getCachedBranch,nt as getField,dt as getHook,d as getLogDir,b as getLogLevel,W as getPluginRoot,m as getProjectDir,c as getSessionId,H as hooks,A as isBashInput,F as isEditInput,M as isReadInput,B as isWriteInput,mt as listHooks,p as logHook,tt as logPermissionFeedback,et as normalizeCommand,X as outputAllowWithContext,q as outputBlock,Y as outputDeny,V as outputError,z as outputPromptContext,Z as outputSilentAllow,u as outputSilentSuccess,Q as outputWarning,J as outputWithContext,ot as readHookInput,E as shouldLog};
//# sourceMappingURL=notification.mjs.map
